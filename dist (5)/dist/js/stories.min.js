/*! project-name v0.0.1 | (c) 2020 Siphosenkosi Ndhlovu | MIT License | http://link-to-your-git-repo.com */
"use strict";!(function(){var e=document.querySelector(".our-plans"),t=document.querySelector("#infinite-loading"),n=document.querySelector("#infinite-error"),o=document.querySelector("#retry"),c=document.documentElement.attributes.lang.value,i=0,s=2;function d(e,t,n){var o=document.createElement(e);t&&Object.keys(t).forEach((function(e){o.setAttribute(e,t[e])}));return n&&"string"!=typeof n?n.forEach((function(e){"string"!=typeof e&&"number"!=typeof e&&Boolean(e)?o.appendChild(e):o.appendChild(document.createTextNode(e))})):o.appendChild(document.createTextNode(n)),o}function r(e){return d("div",{class:"our-plans__image"},[d("div",{class:"our-plans__image-container"},[d("img",{src:e.src,alt:e.altText})])])}function a(){t.classList.add("t-block"),t.classList.remove("t-hidden"),fetch("assets/js/stories.".concat(c,".json")).then((function(e){return e.json()})).then((function(e){return e.slice(i,i+s)})).then((function(o){setTimeout((function(){o.forEach((function(t){e.appendChild(function(e){return d("div",{class:"our-plans__segment"},[r(e.picture),(t=e,n=t.body,o=t.date,c=t.heading,i=t.picture,d("div",{class:"our-plans__text"},[d("div",{class:"our-plans__date"},[o]),r(i),d("h2",{},[c]),d("div",{class:"deck"},n.map((function(e){return d("p",{},e)})))]))]);var t,n,o,c,i}(t))})),t.classList.add("t-hidden"),t.classList.remove("t-block"),n.classList.add("t-hidden"),n.classList.remove("t-block"),i+=s}),600)})).catch((function(e){t.classList.add("t-hidden"),t.classList.remove("t-block"),n.classList.add("t-block"),n.classList.remove("t-hidden")}))}o.addEventListener("click",(function(e){e.preventDefault(),a()})),window.addEventListener("scroll",(function(){var e,t;(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)<(e=document.body,t=document.documentElement,Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)-window.innerHeight)||a()}))})();